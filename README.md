# maemu

add clk,the clock cycle can be customized
````````
#define HIGH_CYCLE      5
#define LOW_CYCLE       5
````````````````
r-----f_____r-----f_____r-----



update:

````````
#define HIGH_UNIT      2
#define LOW_UNIT       2
````````````````

Each clock cycle takes 4 units to simulate.

Now a cycle is as the following:

`````
--__--__--__ ...
`````

The sequential logic runs at the rising edge and the combinational logic runs at the next -.
This is to simulate the setup time for the dff.
Otherwise, the function calling order will affect the circuit simulation


##Example
--------------------
Runs the following 3 instructions:

ADD.W $3, $1, $2
ADD.W $4, $0, $3
ADD.W $5, $0, $1


fetch 1 instruction per cycle
retire 1 instruction per cycle

reservation station 8 entries
reorder buffer 8 entries




```````````
Microarchitecture emulator
-------------------------------------------------------------------------------------------





# 
# / (rising edge)  CYCLE 0  
# 

+ clk HIGH
	IF|IFU
	IF|  pc_current: 0x0

ID stage: **********************************************
		ID|EXU ID
		ID|  instr_d: 0x0
-------------------------------------------------------------------------------------------
+ clk HIGH
	IF|  pc_fetch: 0x4

ID stage: **********************************************
		ID|  Decode instr_d 0x0
		ID|  decode: pipeline BUBBLE
		ID|  ID stage: alloc_rs_d: 0, alloc_rob_d: 0, rj_d: 0x0, rk_d: 0x0
		ID|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
		ID|  ____________________________________________________________________________
		ID|  || Busy    || no     | no     | no     | no     | no     | no     | no     |
		ID|  || RegDest || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
		ID|  || Instr   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
		ID|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
		ID|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
		ID|  ____________________________________________________________________________
		ID|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
		ID|  register_stat: rj 0, busy 0, reorder 0
		ID|  register_stat: rk 0, busy 0, reorder 0
		ID|  register_stat: rd 0, busy 0, reorder 0 (new)
		ID|          ######################  RESERVATION STATION  #####################
		ID|  ======================================================================================
		ID|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
		ID|  ======================================================================================
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|  ______________________________________________________________________________________
		ID|          #################################################################

EX stage: **********************************************
			EX|  ALU0 issue no, rob 0, rj 0x0, rk 0x0, result 0x0
			EX|  ALU1 issue no, rob 0, rj 0x0, rk 0x0, result 0x0

WB stage: **********************************************
				WB|          ######################  RESERVATION STATION  #####################
				WB|  ======================================================================================
				WB|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
				WB|  ======================================================================================
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|  ______________________________________________________________________________________
				WB|          #################################################################
				WB|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
				WB|  ____________________________________________________________________________
				WB|  || Busy    || no     | no     | no     | no     | no     | no     | no     |
				WB|  || RegDest || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
				WB|  || Instr   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
				WB|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
				WB|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
				WB|  ____________________________________________________________________________
				WB|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

CMT stage: **********************************************
					CMT|          ######################  RESERVATION STATION  #####################
					CMT|  ======================================================================================
					CMT|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
					CMT|  ======================================================================================
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|  ______________________________________________________________________________________
					CMT|          #################################################################
					CMT|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
					CMT|  ____________________________________________________________________________
					CMT|  || Busy    || no     | no     | no     | no     | no     | no     | no     |
					CMT|  || RegDest || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Instr   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
					CMT|  ____________________________________________________________________________
					CMT|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
-------------------------------------------------------------------------------------------
\ (falling edge)  _ clk LOW
	IF|  pc_fetch: 0x4
-------------------------------------------------------------------------------------------
_ clk LOW
	IF|  pc_fetch: 0x4
-------------------------------------------------------------------------------------------





# 
# / (rising edge)  CYCLE 1  
# 

+ clk HIGH
	IF|IFU
	IF|  pc_current: 0x4

ID stage: **********************************************
		ID|EXU ID
		ID|  instr_d: 0x100823
-------------------------------------------------------------------------------------------
+ clk HIGH
	IF|  pc_fetch: 0x8

ID stage: **********************************************
		ID|  Decode instr_d 0x100823
		ID|  decode: ADD.W $3, $1, $2
		ID|  ID stage: alloc_rs_d: 1, alloc_rob_d: 1, rj_d: 0x10, rk_d: 0x20
  rob entry 1, instr 0x100823, regdest 3, ready 0, busy 1
		ID|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
		ID|  ____________________________________________________________________________
		ID|  || Busy    || yes    | no     | no     | no     | no     | no     | no     |
		ID|  || RegDest || 3      | 0      | 0      | 0      | 0      | 0      | 0      |
		ID|  || Instr   || 100823 | 0      | 0      | 0      | 0      | 0      | 0      |
		ID|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
		ID|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
		ID|  ____________________________________________________________________________
		ID|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
		ID|  register_stat: rj 1, busy 0, reorder 0
		ID|  register_stat: rk 2, busy 0, reorder 0
		ID|  register_stat: rd 3, busy 1, reorder 1 (new)
  Issue ALU0: add  rob_1, 0x10, 0x20
		ID|          ######################  RESERVATION STATION  #####################
		ID|  ======================================================================================
		ID|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
		ID|  ======================================================================================
		ID|    yes       yes         1    100823        10        20         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|  ______________________________________________________________________________________
		ID|          #################################################################

EX stage: **********************************************
			EX|  ALU0 issue no, rob 0, rj 0x0, rk 0x0, result 0x0
			EX|  ALU1 issue no, rob 0, rj 0x0, rk 0x0, result 0x0

WB stage: **********************************************
				WB|          ######################  RESERVATION STATION  #####################
				WB|  ======================================================================================
				WB|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
				WB|  ======================================================================================
				WB|    yes       yes         1    100823        10        20         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|  ______________________________________________________________________________________
				WB|          #################################################################
				WB|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
				WB|  ____________________________________________________________________________
				WB|  || Busy    || yes    | no     | no     | no     | no     | no     | no     |
				WB|  || RegDest || 3      | 0      | 0      | 0      | 0      | 0      | 0      |
				WB|  || Instr   || 100823 | 0      | 0      | 0      | 0      | 0      | 0      |
				WB|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
				WB|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
				WB|  ____________________________________________________________________________
				WB|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

CMT stage: **********************************************
					CMT|          ######################  RESERVATION STATION  #####################
					CMT|  ======================================================================================
					CMT|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
					CMT|  ======================================================================================
					CMT|    yes       yes         1    100823        10        20         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|  ______________________________________________________________________________________
					CMT|          #################################################################
					CMT|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
					CMT|  ____________________________________________________________________________
					CMT|  || Busy    || yes    | no     | no     | no     | no     | no     | no     |
					CMT|  || RegDest || 3      | 0      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Instr   || 100823 | 0      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
					CMT|  ____________________________________________________________________________
					CMT|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
-------------------------------------------------------------------------------------------
\ (falling edge)  _ clk LOW
	IF|  pc_fetch: 0x8
-------------------------------------------------------------------------------------------
_ clk LOW
	IF|  pc_fetch: 0x8
-------------------------------------------------------------------------------------------





# 
# / (rising edge)  CYCLE 2  
# 

+ clk HIGH
	IF|IFU
	IF|  pc_current: 0x8

ID stage: **********************************************
		ID|EXU ID
		ID|  instr_d: 0x100c04
-------------------------------------------------------------------------------------------
+ clk HIGH
	IF|  pc_fetch: 0xc

ID stage: **********************************************
		ID|  Decode instr_d 0x100c04
		ID|  decode: ADD.W $4, $0, $3
		ID|  ID stage: alloc_rs_d: 1, alloc_rob_d: 1, rj_d: 0x0, rk_d: 0x0
  rob entry 2, instr 0x100c04, regdest 4, ready 0, busy 1
		ID|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
		ID|  ____________________________________________________________________________
		ID|  || Busy    || yes    | yes    | no     | no     | no     | no     | no     |
		ID|  || RegDest || 3      | 4      | 0      | 0      | 0      | 0      | 0      |
		ID|  || Instr   || 100823 | 100c04 | 0      | 0      | 0      | 0      | 0      |
		ID|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
		ID|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
		ID|  ____________________________________________________________________________
		ID|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
		ID|  register_stat: rj 0, busy 0, reorder 0
		ID|  register_stat: rk 3, busy 1, reorder 1
		ID|  register_stat: rd 4, busy 1, reorder 2 (new)
		ID|          ######################  RESERVATION STATION  #####################
		ID|  ======================================================================================
		ID|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
		ID|  ======================================================================================
		ID|    yes       yes         1    100823        10        20         0         0         0
		ID|    yes       no          2    100c04         0         0         0         1         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|  ______________________________________________________________________________________
		ID|          #################################################################

EX stage: **********************************************
			EX|  ALU0 issue yes, rob 1, rj 0x10, rk 0x20, result 0x30
			EX|  ALU1 issue no, rob 0, rj 0x0, rk 0x0, result 0x0

WB stage: **********************************************
				WB|          ######################  RESERVATION STATION  #####################
				WB|  ======================================================================================
				WB|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
				WB|  ======================================================================================
				WB|    yes       yes         1    100823        10        20         0         0         0
				WB|    yes       no          2    100c04         0         0         0         1         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|  ______________________________________________________________________________________
				WB|          #################################################################
				WB|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
				WB|  ____________________________________________________________________________
				WB|  || Busy    || yes    | yes    | no     | no     | no     | no     | no     |
				WB|  || RegDest || 3      | 4      | 0      | 0      | 0      | 0      | 0      |
				WB|  || Instr   || 100823 | 100c04 | 0      | 0      | 0      | 0      | 0      |
				WB|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
				WB|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
				WB|  ____________________________________________________________________________
				WB|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

CMT stage: **********************************************
					CMT|          ######################  RESERVATION STATION  #####################
					CMT|  ======================================================================================
					CMT|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
					CMT|  ======================================================================================
					CMT|    yes       yes         1    100823        10        20         0         0         0
					CMT|    yes       no          2    100c04         0         0         0         1         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|  ______________________________________________________________________________________
					CMT|          #################################################################
					CMT|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
					CMT|  ____________________________________________________________________________
					CMT|  || Busy    || yes    | yes    | no     | no     | no     | no     | no     |
					CMT|  || RegDest || 3      | 4      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Instr   || 100823 | 100c04 | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
					CMT|  ____________________________________________________________________________
					CMT|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
-------------------------------------------------------------------------------------------
\ (falling edge)  _ clk LOW
	IF|  pc_fetch: 0xc
-------------------------------------------------------------------------------------------
_ clk LOW
	IF|  pc_fetch: 0xc
-------------------------------------------------------------------------------------------





# 
# / (rising edge)  CYCLE 3  
# 

+ clk HIGH
	IF|IFU
	IF|  pc_current: 0xc

ID stage: **********************************************
		ID|EXU ID
		ID|  instr_d: 0x100405
-------------------------------------------------------------------------------------------
+ clk HIGH
	IF|  pc_fetch: 0x10

ID stage: **********************************************
		ID|  Decode instr_d 0x100405
		ID|  decode: ADD.W $5, $0, $1
		ID|  ID stage: alloc_rs_d: 1, alloc_rob_d: 1, rj_d: 0x0, rk_d: 0x10
  rob entry 3, instr 0x100405, regdest 5, ready 0, busy 1
		ID|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
		ID|  ____________________________________________________________________________
		ID|  || Busy    || yes    | yes    | yes    | no     | no     | no     | no     |
		ID|  || RegDest || 3      | 4      | 5      | 0      | 0      | 0      | 0      |
		ID|  || Instr   || 100823 | 100c04 | 100405 | 0      | 0      | 0      | 0      |
		ID|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
		ID|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
		ID|  ____________________________________________________________________________
		ID|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
		ID|  register_stat: rj 0, busy 0, reorder 0
		ID|  register_stat: rk 1, busy 0, reorder 0
		ID|  register_stat: rd 5, busy 1, reorder 3 (new)
  Issue ALU0: add  rob_3, 0x0, 0x10
		ID|          ######################  RESERVATION STATION  #####################
		ID|  ======================================================================================
		ID|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
		ID|  ======================================================================================
		ID|    yes       yes         1    100823        10        20         0         0         0
		ID|    yes       no          2    100c04         0         0         0         1         0
		ID|    yes       yes         3    100405         0        10         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|  ______________________________________________________________________________________
		ID|          #################################################################

EX stage: **********************************************
			EX|  ALU0 issue no, rob 1, rj 0x10, rk 0x20, result 0x30
			EX|  ALU1 issue no, rob 0, rj 0x0, rk 0x0, result 0x0

WB stage: **********************************************
				WB|          ######################  RESERVATION STATION  #####################
				WB|  ======================================================================================
				WB|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
				WB|  ======================================================================================
				WB|    yes       yes         1    100823        10        20         0         0         0
				WB|    yes       no          2    100c04         0        30         0         0         0
				WB|    yes       yes         3    100405         0        10         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|  ______________________________________________________________________________________
				WB|          #################################################################
				WB|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
				WB|  ____________________________________________________________________________
				WB|  || Busy    || yes    | yes    | yes    | no     | no     | no     | no     |
				WB|  || RegDest || 3      | 4      | 5      | 0      | 0      | 0      | 0      |
				WB|  || Instr   || 100823 | 100c04 | 100405 | 0      | 0      | 0      | 0      |
				WB|  || Value   || 30     | 0      | 0      | 0      | 0      | 0      | 0      |
				WB|  || Ready   || yes    | no     | no     | no     | no     | no     | no     |
				WB|  ____________________________________________________________________________
				WB|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

CMT stage: **********************************************
					CMT|          ######################  RESERVATION STATION  #####################
					CMT|  ======================================================================================
					CMT|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
					CMT|  ======================================================================================
					CMT|    yes       yes         1    100823        10        20         0         0         0
					CMT|    yes       no          2    100c04         0        30         0         0         0
					CMT|    yes       yes         3    100405         0        10         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|  ______________________________________________________________________________________
					CMT|          #################################################################
					CMT|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
					CMT|  ____________________________________________________________________________
					CMT|  || Busy    || no     | yes    | yes    | no     | no     | no     | no     |
					CMT|  || RegDest || 0      | 4      | 5      | 0      | 0      | 0      | 0      |
					CMT|  || Instr   || 0      | 100c04 | 100405 | 0      | 0      | 0      | 0      |
					CMT|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
					CMT|  ____________________________________________________________________________
					CMT|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
-------------------------------------------------------------------------------------------
\ (falling edge)  _ clk LOW
	IF|  pc_fetch: 0x10
-------------------------------------------------------------------------------------------
_ clk LOW
	IF|  pc_fetch: 0x10
-------------------------------------------------------------------------------------------





# 
# / (rising edge)  CYCLE 4  
# 

+ clk HIGH
	IF|IFU
	IF|  pc_current: 0x10

ID stage: **********************************************
		ID|EXU ID
		ID|  instr_d: 0x0
		ID|  WB: rf write rd 3: 0x30
-------------------------------------------------------------------------------------------
+ clk HIGH
	IF|  pc_fetch: 0x14

ID stage: **********************************************
		ID|  Decode instr_d 0x0
		ID|  decode: pipeline BUBBLE
		ID|  ID stage: alloc_rs_d: 0, alloc_rob_d: 0, rj_d: 0x0, rk_d: 0x10
		ID|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
		ID|  ____________________________________________________________________________
		ID|  || Busy    || no     | yes    | yes    | no     | no     | no     | no     |
		ID|  || RegDest || 0      | 4      | 5      | 0      | 0      | 0      | 0      |
		ID|  || Instr   || 0      | 100c04 | 100405 | 0      | 0      | 0      | 0      |
		ID|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
		ID|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
		ID|  ____________________________________________________________________________
		ID|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
		ID|  register_stat: rj 0, busy 0, reorder 0
		ID|  register_stat: rk 1, busy 0, reorder 0
		ID|  register_stat: rd 5, busy 0, reorder 0 (new)
  Issue ALU0: add  rob_2, 0x0, 0x30
		ID|          ######################  RESERVATION STATION  #####################
		ID|  ======================================================================================
		ID|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
		ID|  ======================================================================================
		ID|    yes       yes         1    100823        10        20         0         0         0
		ID|    yes       yes         2    100c04         0        30         0         0         0
		ID|    yes       yes         3    100405         0        10         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|  ______________________________________________________________________________________
		ID|          #################################################################

EX stage: **********************************************
			EX|  ALU0 issue yes, rob 3, rj 0x0, rk 0x10, result 0x10
			EX|  ALU1 issue no, rob 0, rj 0x0, rk 0x0, result 0x0

WB stage: **********************************************
				WB|          ######################  RESERVATION STATION  #####################
				WB|  ======================================================================================
				WB|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
				WB|  ======================================================================================
				WB|    yes       yes         1    100823        10        20         0         0         0
				WB|    yes       yes         2    100c04         0        30         0         0         0
				WB|    yes       yes         3    100405         0        10         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|  ______________________________________________________________________________________
				WB|          #################################################################
				WB|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
				WB|  ____________________________________________________________________________
				WB|  || Busy    || no     | yes    | yes    | no     | no     | no     | no     |
				WB|  || RegDest || 0      | 4      | 5      | 0      | 0      | 0      | 0      |
				WB|  || Instr   || 0      | 100c04 | 100405 | 0      | 0      | 0      | 0      |
				WB|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
				WB|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
				WB|  ____________________________________________________________________________
				WB|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

CMT stage: **********************************************
					CMT|  RS free entry 1
					CMT|          ######################  RESERVATION STATION  #####################
					CMT|  ======================================================================================
					CMT|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
					CMT|  ======================================================================================
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    yes       yes         2    100c04         0        30         0         0         0
					CMT|    yes       yes         3    100405         0        10         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|  ______________________________________________________________________________________
					CMT|          #################################################################
					CMT|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
					CMT|  ____________________________________________________________________________
					CMT|  || Busy    || no     | yes    | yes    | no     | no     | no     | no     |
					CMT|  || RegDest || 0      | 4      | 5      | 0      | 0      | 0      | 0      |
					CMT|  || Instr   || 0      | 100c04 | 100405 | 0      | 0      | 0      | 0      |
					CMT|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
					CMT|  ____________________________________________________________________________
					CMT|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
-------------------------------------------------------------------------------------------
\ (falling edge)  _ clk LOW
	IF|  pc_fetch: 0x14
-------------------------------------------------------------------------------------------
_ clk LOW
	IF|  pc_fetch: 0x14
-------------------------------------------------------------------------------------------





# 
# / (rising edge)  CYCLE 5  
# 

+ clk HIGH
	IF|IFU
	IF|  pc_current: 0x14

ID stage: **********************************************
		ID|EXU ID
		ID|  instr_d: 0x0
-------------------------------------------------------------------------------------------
+ clk HIGH
	IF|  pc_fetch: 0x18

ID stage: **********************************************
		ID|  Decode instr_d 0x0
		ID|  decode: pipeline BUBBLE
		ID|  ID stage: alloc_rs_d: 0, alloc_rob_d: 0, rj_d: 0x0, rk_d: 0x10
		ID|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
		ID|  ____________________________________________________________________________
		ID|  || Busy    || no     | yes    | yes    | no     | no     | no     | no     |
		ID|  || RegDest || 0      | 4      | 5      | 0      | 0      | 0      | 0      |
		ID|  || Instr   || 0      | 100c04 | 100405 | 0      | 0      | 0      | 0      |
		ID|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
		ID|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
		ID|  ____________________________________________________________________________
		ID|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
		ID|  register_stat: rj 0, busy 0, reorder 0
		ID|  register_stat: rk 1, busy 0, reorder 0
		ID|  register_stat: rd 5, busy 0, reorder 0 (new)
		ID|          ######################  RESERVATION STATION  #####################
		ID|  ======================================================================================
		ID|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
		ID|  ======================================================================================
		ID|    no        no          0         0         0         0         0         0         0
		ID|    yes       yes         2    100c04         0        30         0         0         0
		ID|    yes       yes         3    100405         0        10         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|  ______________________________________________________________________________________
		ID|          #################################################################

EX stage: **********************************************
			EX|  ALU0 issue yes, rob 2, rj 0x0, rk 0x30, result 0x30
			EX|  ALU1 issue no, rob 0, rj 0x0, rk 0x0, result 0x0

WB stage: **********************************************
				WB|          ######################  RESERVATION STATION  #####################
				WB|  ======================================================================================
				WB|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
				WB|  ======================================================================================
				WB|    no        no          0         0         0         0         0         0         0
				WB|    yes       yes         2    100c04         0        30         0         0         0
				WB|    yes       yes         3    100405         0        10         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|  ______________________________________________________________________________________
				WB|          #################################################################
				WB|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
				WB|  ____________________________________________________________________________
				WB|  || Busy    || no     | yes    | yes    | no     | no     | no     | no     |
				WB|  || RegDest || 0      | 4      | 5      | 0      | 0      | 0      | 0      |
				WB|  || Instr   || 0      | 100c04 | 100405 | 0      | 0      | 0      | 0      |
				WB|  || Value   || 0      | 0      | 10     | 0      | 0      | 0      | 0      |
				WB|  || Ready   || no     | no     | yes    | no     | no     | no     | no     |
				WB|  ____________________________________________________________________________
				WB|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

CMT stage: **********************************************
					CMT|          ######################  RESERVATION STATION  #####################
					CMT|  ======================================================================================
					CMT|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
					CMT|  ======================================================================================
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    yes       yes         2    100c04         0        30         0         0         0
					CMT|    yes       yes         3    100405         0        10         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|  ______________________________________________________________________________________
					CMT|          #################################################################
					CMT|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
					CMT|  ____________________________________________________________________________
					CMT|  || Busy    || no     | yes    | yes    | no     | no     | no     | no     |
					CMT|  || RegDest || 0      | 4      | 5      | 0      | 0      | 0      | 0      |
					CMT|  || Instr   || 0      | 100c04 | 100405 | 0      | 0      | 0      | 0      |
					CMT|  || Value   || 0      | 0      | 10     | 0      | 0      | 0      | 0      |
					CMT|  || Ready   || no     | no     | yes    | no     | no     | no     | no     |
					CMT|  ____________________________________________________________________________
					CMT|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
-------------------------------------------------------------------------------------------
\ (falling edge)  _ clk LOW
	IF|  pc_fetch: 0x18
-------------------------------------------------------------------------------------------
_ clk LOW
	IF|  pc_fetch: 0x18
-------------------------------------------------------------------------------------------





# 
# / (rising edge)  CYCLE 6  
# 

+ clk HIGH
	IF|IFU
	IF|  pc_current: 0x18

ID stage: **********************************************
		ID|EXU ID
		ID|  instr_d: 0x0
-------------------------------------------------------------------------------------------
+ clk HIGH
	IF|  pc_fetch: 0x1c

ID stage: **********************************************
		ID|  Decode instr_d 0x0
		ID|  decode: pipeline BUBBLE
		ID|  ID stage: alloc_rs_d: 0, alloc_rob_d: 0, rj_d: 0x0, rk_d: 0x10
		ID|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
		ID|  ____________________________________________________________________________
		ID|  || Busy    || no     | yes    | yes    | no     | no     | no     | no     |
		ID|  || RegDest || 0      | 4      | 5      | 0      | 0      | 0      | 0      |
		ID|  || Instr   || 0      | 100c04 | 100405 | 0      | 0      | 0      | 0      |
		ID|  || Value   || 0      | 0      | 10     | 0      | 0      | 0      | 0      |
		ID|  || Ready   || no     | no     | yes    | no     | no     | no     | no     |
		ID|  ____________________________________________________________________________
		ID|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
		ID|  register_stat: rj 0, busy 0, reorder 0
		ID|  register_stat: rk 1, busy 0, reorder 0
		ID|  register_stat: rd 5, busy 0, reorder 0 (new)
		ID|          ######################  RESERVATION STATION  #####################
		ID|  ======================================================================================
		ID|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
		ID|  ======================================================================================
		ID|    no        no          0         0         0         0         0         0         0
		ID|    yes       yes         2    100c04         0        30         0         0         0
		ID|    yes       yes         3    100405         0        10         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|  ______________________________________________________________________________________
		ID|          #################################################################

EX stage: **********************************************
			EX|  ALU0 issue no, rob 2, rj 0x0, rk 0x30, result 0x30
			EX|  ALU1 issue no, rob 0, rj 0x0, rk 0x0, result 0x0

WB stage: **********************************************
				WB|          ######################  RESERVATION STATION  #####################
				WB|  ======================================================================================
				WB|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
				WB|  ======================================================================================
				WB|    no        no          0         0         0         0         0         0         0
				WB|    yes       yes         2    100c04         0        30         0         0         0
				WB|    yes       yes         3    100405         0        10         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|  ______________________________________________________________________________________
				WB|          #################################################################
				WB|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
				WB|  ____________________________________________________________________________
				WB|  || Busy    || no     | yes    | yes    | no     | no     | no     | no     |
				WB|  || RegDest || 0      | 4      | 5      | 0      | 0      | 0      | 0      |
				WB|  || Instr   || 0      | 100c04 | 100405 | 0      | 0      | 0      | 0      |
				WB|  || Value   || 0      | 30     | 10     | 0      | 0      | 0      | 0      |
				WB|  || Ready   || no     | yes    | yes    | no     | no     | no     | no     |
				WB|  ____________________________________________________________________________
				WB|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

CMT stage: **********************************************
					CMT|  RS free entry 3
					CMT|          ######################  RESERVATION STATION  #####################
					CMT|  ======================================================================================
					CMT|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
					CMT|  ======================================================================================
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    yes       yes         2    100c04         0        30         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|  ______________________________________________________________________________________
					CMT|          #################################################################
					CMT|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
					CMT|  ____________________________________________________________________________
					CMT|  || Busy    || no     | no     | yes    | no     | no     | no     | no     |
					CMT|  || RegDest || 0      | 0      | 5      | 0      | 0      | 0      | 0      |
					CMT|  || Instr   || 0      | 0      | 100405 | 0      | 0      | 0      | 0      |
					CMT|  || Value   || 0      | 0      | 10     | 0      | 0      | 0      | 0      |
					CMT|  || Ready   || no     | no     | yes    | no     | no     | no     | no     |
					CMT|  ____________________________________________________________________________
					CMT|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
-------------------------------------------------------------------------------------------
\ (falling edge)  _ clk LOW
	IF|  pc_fetch: 0x1c
-------------------------------------------------------------------------------------------
_ clk LOW
	IF|  pc_fetch: 0x1c
-------------------------------------------------------------------------------------------





# 
# / (rising edge)  CYCLE 7  
# 

+ clk HIGH
	IF|IFU
	IF|  pc_current: 0x1c

ID stage: **********************************************
		ID|EXU ID
		ID|  instr_d: 0x0
		ID|  WB: rf write rd 4: 0x30
-------------------------------------------------------------------------------------------
+ clk HIGH
	IF|  pc_fetch: 0x20

ID stage: **********************************************
		ID|  Decode instr_d 0x0
		ID|  decode: pipeline BUBBLE
		ID|  ID stage: alloc_rs_d: 0, alloc_rob_d: 0, rj_d: 0x0, rk_d: 0x10
		ID|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
		ID|  ____________________________________________________________________________
		ID|  || Busy    || no     | no     | yes    | no     | no     | no     | no     |
		ID|  || RegDest || 0      | 0      | 5      | 0      | 0      | 0      | 0      |
		ID|  || Instr   || 0      | 0      | 100405 | 0      | 0      | 0      | 0      |
		ID|  || Value   || 0      | 0      | 10     | 0      | 0      | 0      | 0      |
		ID|  || Ready   || no     | no     | yes    | no     | no     | no     | no     |
		ID|  ____________________________________________________________________________
		ID|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
		ID|  register_stat: rj 0, busy 0, reorder 0
		ID|  register_stat: rk 1, busy 0, reorder 0
		ID|  register_stat: rd 5, busy 0, reorder 0 (new)
		ID|          ######################  RESERVATION STATION  #####################
		ID|  ======================================================================================
		ID|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
		ID|  ======================================================================================
		ID|    no        no          0         0         0         0         0         0         0
		ID|    yes       yes         2    100c04         0        30         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|    no        no          0         0         0         0         0         0         0
		ID|  ______________________________________________________________________________________
		ID|          #################################################################

EX stage: **********************************************
			EX|  ALU0 issue no, rob 2, rj 0x0, rk 0x30, result 0x30
			EX|  ALU1 issue no, rob 0, rj 0x0, rk 0x0, result 0x0

WB stage: **********************************************
				WB|          ######################  RESERVATION STATION  #####################
				WB|  ======================================================================================
				WB|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
				WB|  ======================================================================================
				WB|    no        no          0         0         0         0         0         0         0
				WB|    yes       yes         2    100c04         0        30         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|    no        no          0         0         0         0         0         0         0
				WB|  ______________________________________________________________________________________
				WB|          #################################################################
				WB|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
				WB|  ____________________________________________________________________________
				WB|  || Busy    || no     | no     | yes    | no     | no     | no     | no     |
				WB|  || RegDest || 0      | 0      | 5      | 0      | 0      | 0      | 0      |
				WB|  || Instr   || 0      | 0      | 100405 | 0      | 0      | 0      | 0      |
				WB|  || Value   || 0      | 0      | 10     | 0      | 0      | 0      | 0      |
				WB|  || Ready   || no     | no     | yes    | no     | no     | no     | no     |
				WB|  ____________________________________________________________________________
				WB|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

CMT stage: **********************************************
					CMT|  RS free entry 2
					CMT|          ######################  RESERVATION STATION  #####################
					CMT|  ======================================================================================
					CMT|   Busy     Issue       ROB     Instr        Vj        Vk        Qj        Qk         A
					CMT|  ======================================================================================
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|    no        no          0         0         0         0         0         0         0
					CMT|  ______________________________________________________________________________________
					CMT|          #################################################################
					CMT|          @@@@@@@@@@@@@@@@@@@@@  REORDER BUFFER  @@@@@@@@@@@@@@@@@@@@
					CMT|  ____________________________________________________________________________
					CMT|  || Busy    || no     | no     | no     | no     | no     | no     | no     |
					CMT|  || RegDest || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Instr   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Value   || 0      | 0      | 0      | 0      | 0      | 0      | 0      |
					CMT|  || Ready   || no     | no     | no     | no     | no     | no     | no     |
					CMT|  ____________________________________________________________________________
					CMT|          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
-------------------------------------------------------------------------------------------
\ (falling edge)  _ clk LOW
	IF|  pc_fetch: 0x20
-------------------------------------------------------------------------------------------
_ clk LOW
	IF|  pc_fetch: 0x20


```````````
